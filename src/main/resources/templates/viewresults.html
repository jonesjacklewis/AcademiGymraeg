<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="jcj23xfb, grs22lkc">
<link href="../css/styles.css" th:href="@{/css/styles.css}" rel="stylesheet" />
<title>Academi Gymraeg | View Results</title>
<style>
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 12px 16px;
      text-align: center;
    }

    th {
      background-color: #42797D;
      color: white;
      font-weight: bold;
    }

    tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    h2 {
      color: #42797D;
      text-align: center;
      margin-bottom: 20px;
    }

    .back-link {
      display: inline-block;
      margin-top: 20px;
      background-color: green;
      color: white;
      padding: 10px 30px;
      text-decoration: none;
      font-size: 18px;
      border-radius: 4px;
    }

    .back-link:hover {
      background-color: darkgreen;
    }

    .results-container {
      padding: 50px;
      max-width: 1000px;
      margin: auto;
    }
  </style>
</head>
<body>

	<div id="header">
	    <img id="logo" th:src="@{/images/logo.png}" alt="Academi Gymraeg Logo">
	    <a href="/logout" id="logout">Log Out </a>
	</div>
	<div id="nav-bar">
		<a href="/home" id="nav-link-home">Welcome</a>
		<a href="/test" id="nav-link-test">Take Test</a>
		<a href="/viewResults" id="nav-link-results" th:style="'color: red; background-color: white'">View Results</a>
		<a th:if="${isAdmin}" href="/viewusers" id="nav-link-viewusers">View Users</a>
    	<a th:if="${isAdmin}" href="/addUser" id="nav-link-users">User Admin</a>
    	<a th:if="${isInstructor}" href="/noun" id="nav-link-nouns">Noun Admin</a>
		
	</div>
	
	<div class="results-container">
	  <h2>Test Results</h2>

	  <table>
	    <tr>
	      <th>Start Date</th>
	      <th>End Date</th>
	      <th>Duration</th>
	      <th>Total Correct</th>
	      <th>Total Questions</th>
	      <th>Percentage</th>
	    </tr>
	    <tr th:each="r : ${allresults}">
	      <td th:text="${#temporals.format(r.startDateTime, 'dd MMM yyyy HH:mm')}">Start</td>
	      <td th:text="${#temporals.format(r.endDateTime, 'dd MMM yyyy HH:mm')}">End</td>
	      <td th:text="${r.completionDuration}">Duration</td>
	      <td th:text="${r.numberCorrect}">Correct</td>
	      <td th:text="${r.numberOfQuestions}">Questions</td>
	      <td th:text="${r.percentCorrect}">Percentage</td>
	    </tr>
	  </table>

	  <a class="back-link" href="/home">Back</a>
	</div>

</body>
</html>
